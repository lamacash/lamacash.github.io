# –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–∞–π—Ç–∞ VitePress –Ω–∞ GitHub Pages
#
name: üèóÔ∏è Deploy VitePress site to Pages

on:
  # –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø—É—à–∞—Ö, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤ –≤–µ—Ç–∫—É `main`. –ò–∑–º–µ–Ω–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ `master`, –µ—Å–ª–∏ –≤—ã
  # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–µ—Ç–∫—É `master` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–µ—Ç–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  push:
    branches: [main]

  # –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å —ç—Ç–æ—Ç —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –≤—Ä—É—á–Ω—É—é –Ω–∞ –≤–∫–ª–∞–¥–∫–µ ¬´Actions¬ª.
  workflow_dispatch:

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è GITHUB_TOKEN, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö GitHub.
permissions:
  contents: read
  pages: write
  id-token: write

# –†–∞–∑—Ä–µ—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ, –ø—Ä–æ–ø—É—Å–∫–∞—è –∑–∞–ø—É—Å–∫–∏, —Å—Ç–æ—è—â–∏–µ –≤ –æ—á–µ—Ä–µ–¥–∏.
# –û–¥–Ω–∞–∫–æ –ù–ï –æ—Ç–º–µ–Ω—è–π—Ç–µ —Ç–µ–∫—É—â–∏–µ –∑–∞–ø—É—Å–∫–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã —Ö–æ—Ç–∏–º –¥–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è.
concurrency:
  group: pages
  cancel-in-progress: false

jobs:
  # –°–±–æ—Ä–∫–∞
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0 # –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è lastUpdated –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞
      # - uses: pnpm/action-setup@v3 # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ pnpm
      #   with:
      #     version: 9
      # - uses: oven-sh/setup-bun@v1 # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Bun
      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: 22
          cache: npm # –∏–ª–∏ pnpm / yarn
      - name: Setup Pages
        uses: actions/configure-pages@v4
      - name: Install dependencies
        run: npm ci # –∏–ª–∏ pnpm install / yarn install / bun install
      - name: Build with VitePress
        run: npm run docs:build # –∏–ª–∏ pnpm docs:build / yarn docs:build / bun run docs:build
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: .vitepress/dist

  # –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    needs: build
    runs-on: ubuntu-latest
    name: Deploy
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
